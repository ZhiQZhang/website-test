<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<link rel="stylesheet" href="./css/index.min.css">
	<title>地图展示</title>
	<script src="https://kit.fontawesome.com/5957cb653d.js" crossorigin="anonymous"></script>
	<!-- 引入 layui.js -->
	<script src="//unpkg.com/layui@2.9.7/dist/layui.js"></script>
	<!-- 引入 layui.css -->
	<link href="//unpkg.com/layui@2.9.7/dist/css/layui.css" rel="stylesheet">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Reddit+Mono:wght@200..900&display=swap" rel="stylesheet">
	<script src="https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
	<script src="https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.21/lodash.core.min.js"></script>
	<script src="https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.21/lodash.fp.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
</head>

<body class="cbody">
	<div class="header">
		<img src="./images/logo.png" alt="">
		<div class="select-line">
			<div style="width: 250px; border-radius: 5px; margin-left: 20px;" class="layui-input-wrap">
				<input type="text" class="layui-input search-input">
				<div id="search-btn" class="layui-input-split layui-input-suffix">
					<i class="layui-icon-search layui-icon"></i>
				</div>
			</div>
			<select class="select-width" aria-label="Default select example">
				<option value="">Please select to filter prices</option>
				<option value="0-2000000">0-2000000</option>
				<option value="2000000-2500000">2000000-2500000</option>
				<option value="3000000-3500000">3000000-3500000</option>
			</select>
			<select class="select-width" aria-label="Default select example">
				<option value="">Please select to filter status</option>
				<option value="for sale">for sale</option>
				<option value="pending">pending</option>
				<option value="sold">sold</option>
			</select>
			<select class="select-width" aria-label="Default select example">
				<option value="">Please select to filter sqft</option>
				<option value="5000-6000">5000-6000</option>
				<option value="6000-7000">6000-7000</option>
				<option value="7000-8000">7000-8000</option>
				<option value="8000-9000">8000-9000</option>
				<option value="9000-10000">9000-10000</option>
			</select>
			<button style="border-radius: 5px; margin-left: 20px;" class="reset layui-btn layui-btn-primary layui-border">reset</button>
		</div>
	</div>
	<div class="content">
		<div id="allmap"></div>
		<div class="info-col" style="overflow-y: scroll;"></div>
	</div>
	<!-- <div class="layui-card" style="height: 300px;">
			<div class="layui-card-header">卡片面板</div>
			<div class="layui-card-body">
				结合 layui 的栅格系统<br>
				轻松实现响应式布局
			</div>
		</div> -->
	<!-- <i class="fa-solid fa-location-dot" style="color: red; font-size: 30px;"></i> -->
	<script>(g => { var h, a, k, p = "The Google Maps JavaScript API", c = "google", l = "importLibrary", q = "__ib__", m = document, b = window; b = b[c] || (b[c] = {}); var d = b.maps || (b.maps = {}), r = new Set, e = new URLSearchParams, u = () => h || (h = new Promise(async (f, n) => { await (a = m.createElement("script")); e.set("libraries", [...r] + ""); for (k in g) e.set(k.replace(/[A-Z]/g, t => "_" + t[0].toLowerCase()), g[k]); e.set("callback", c + ".maps." + q); a.src = `https://maps.${c}apis.com/maps/api/js?` + e; d[q] = f; a.onerror = () => h = n(Error(p + " could not load.")); a.nonce = m.querySelector("script[nonce]")?.nonce || ""; m.head.append(a) })); d[l] ? console.warn(p + " only loads once. Ignoring:", g) : d[l] = (f, ...n) => r.add(f) && u().then(() => d[l](f, ...n)) })
			({ key: "AIzaSyDag9MI2Ss2T52lYGcWI2-uKXDlIpco3fY", v: "weekly" });</script>
	<script type="module" src="./data.js"></script>
	<script type="module" src="./function.js"></script>
	<script type="module">
		import { houseData } from './data.js';
		import { initMap, renderCard } from './function.js'
		const houseInfo = houseData.map(item => {
			return {
				id: item.id,
				name: item.name,
				address: item.address,
				lat: Number(item.position.split(', ')[0]),
				lng: Number(item.position.split(', ')[1]),
				status: item.status,
				price: item.price,
				Bath: item.Bath,
				Bed: item.Bed,
				Garage: item.Garage,
				sqft: item.sqft,
				lotSize: item['Lot-Size'],
				img: item.img
			}
		})
		initMap(houseInfo)
		renderCard(houseInfo, 'info-col')
	</script>
</body>

</html>